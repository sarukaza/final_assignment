@startuml アクティビティ図

start
:商品リストを表示;
repeat
    :ユーザーが商品番号を入力;
    if (入力が有効か?) then (Yes)
        :商品をカートに追加;
    else (No)
        :「商品番号またはcを指定してください」メッセージ表示;
    endif
repeat while (入力 ≠ "c") is (Yes)
:カートの内容と合計金額を表示;
:支払いへ進む;

:ユーザーが現金を投入;
if (投入額 >= 合計金額?) then (Yes)
    :おつりを計算;
    :「ご購入ありがとうございます」表示;
    :おつりを返却;
    stop
else (No)
    :「金額が不足しています」メッセージ表示;
    :商品リストを表示に戻る -> 商品リストを表示;
endif
stop

@enduml